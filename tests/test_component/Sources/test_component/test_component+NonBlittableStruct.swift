// WARNING: Please don't edit this file. It was generated by Swift/WinRT v0.0.1
// swiftlint:disable all
import Foundation
import Ctest_component

public struct NonBlittableStruct: Hashable, Codable, Sendable {
    public var first: String = ""
    public var second: String = ""
    public var third: Int32 = 0
    public var fourth: String = ""
    public init() {}
    public init(first: String, second: String, third: Int32, fourth: String) {
        self.first = first
        self.second = second
        self.third = third
        self.fourth = fourth
    }
}


// MARK: - Internals

@_spi(WinRTInternal)
extension NonBlittableStruct: WinRTBridgeable {
    public typealias ABI = __x_ABI_Ctest__component_CNonBlittableStruct
    public static func from(abi: ABI) -> Self {
        .init(first: .init(from: abi.First), second: .init(from: abi.Second), third: abi.Third, fourth: .init(from: abi.Fourth))
    }
    public func toABI() -> ABI {
        __ABI_test_component._ABI_NonBlittableStruct(from: self).detach()
    }
}

@_spi(WinRTInternal)
extension __ABI_test_component {
    public class _ABI_NonBlittableStruct {
        public var val: __x_ABI_Ctest__component_CNonBlittableStruct = .init()
        public init() { }
        public init(from swift: test_component.NonBlittableStruct) {
            val.First = try! HString(swift.first).detach()
            val.Second = try! HString(swift.second).detach()
            val.Third = swift.third
            val.Fourth = try! HString(swift.fourth).detach()
        }

        public func detach() -> __x_ABI_Ctest__component_CNonBlittableStruct {
            let result = val
            val.First = nil
            val.Second = nil
            val.Fourth = nil
            return result
        }

        deinit {
            WindowsDeleteString(val.First)
            WindowsDeleteString(val.Second)
            WindowsDeleteString(val.Fourth)
        }
    }
}
